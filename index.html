<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#39FF14">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <title>Acceso a Herramientas GUARD-IA</title>

  <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="manifest" href="manifest.json" />
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.2/Sortable.min.js" defer></script>

  <style>
    :root {
      --bg-color: #050505;
      --bg-secondary: #0a0a0a;
      --card-color: rgba(26, 26, 26, .6);
      --card-hover-bg: rgba(34, 34, 34, .8);
      --text-color: #e8e8e8;
      --text-medium-color: #a0a0a0;
      --text-light-color: #707070;
      --accent-color: #39FF14;
      --accent-glow: rgba(57, 255, 20, .3);
      --border-color: rgba(255, 255, 255, .08);
      --input-bg: rgba(42, 42, 42, .6);
      --input-border: rgba(255, 255, 255, .1);
      --info-fixed-text: #0a0a0a;
      --modal-bg-color: rgba(20, 20, 20, .95);
      --glass-bg: rgba(255, 255, 255, .03);
      --glass-border: rgba(255, 255, 255, .1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box
    }

    body {
      background: linear-gradient(135deg, var(--bg-color) 0%, var(--bg-secondary) 100%);
      color: var(--text-color);
      font-family: 'Inter', sans-serif;
      position: relative;
      overflow-x: hidden
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: linear-gradient(rgba(57, 255, 20, .03) 1px, transparent 1px), linear-gradient(90deg, rgba(57, 255, 20, .03) 1px, transparent 1px);
      background-size: 50px 50px;
      z-index: 0;
      pointer-events: none
    }

    body::after {
      content: '';
      position: fixed;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle at center, rgba(57, 255, 20, .05) 0%, transparent 70%);
      animation: ambientPulse 8s ease-in-out infinite;
      z-index: 0;
      pointer-events: none
    }

    @keyframes ambientPulse {

      0%,
      100% {
        opacity: .3;
        transform: scale(1)
      }

      50% {
        opacity: .6;
        transform: scale(1.1)
      }
    }

    .hidden {
      display: none !important
    }

    .main-content {
      position: relative;
      z-index: 1
    }

    .auth-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 2rem 1rem;
      position: relative;
      z-index: 1
    }

    .auth-logo {
      margin-bottom: 1rem;
      animation: fadeInDown .6s ease-out
    }

    .auth-logo h1 {
      font-size: 3rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--text-color) 0%, var(--accent-color) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -.02em;
      text-shadow: 0 0 30px var(--accent-glow);
      animation: glowPulse 3s ease-in-out infinite
    }

    @keyframes glowPulse {

      0%,
      100% {
        filter: drop-shadow(0 0 10px var(--accent-glow))
      }

      50% {
        filter: drop-shadow(0 0 20px var(--accent-color))
      }
    }

    .auth-description {
      max-width: 500px;
      text-align: justify;
      text-align-last: center;
      margin-bottom: 2.5rem;
      color: var(--text-medium-color);
      line-height: 1.6;
      animation: fadeIn .8s ease-out .2s both
    }

    .auth-box {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 1.5rem;
      padding: 2.5rem;
      width: 100%;
      max-width: 420px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, .4), inset 0 1px 0 rgba(255, 255, 255, .1);
      animation: fadeInUp .8s ease-out .3s both
    }

    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0
      }

      to {
        opacity: 1
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    .auth-tabs {
      display: flex;
      border-bottom: 1px solid var(--border-color);
      margin-bottom: 2rem;
      gap: 1rem
    }

    .auth-tab {
      flex: 1;
      padding: .75rem;
      text-align: center;
      font-weight: 600;
      font-size: .95rem;
      color: var(--text-light-color);
      border-bottom: 2px solid transparent;
      transition: all .3s ease;
      cursor: pointer;
      background: none;
      border: none;
      position: relative
    }

    .auth-tab::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--accent-color);
      transform: scaleX(0);
      transition: transform .3s ease
    }

    .auth-tab.active {
      color: var(--accent-color)
    }

    .auth-tab.active::after {
      transform: scaleX(1)
    }

    .auth-input {
      background: rgba(30, 30, 30, .9);
      backdrop-filter: blur(10px);
      border: 1px solid var(--input-border);
      color: #ffffff;
      border-radius: .75rem;
      padding: .875rem 1rem;
      transition: all .3s ease;
      font-size: .95rem
    }

    .auth-input:focus {
      outline: none;
      border-color: var(--accent-color);
      background: rgba(35, 35, 35, .95);
      box-shadow: 0 0 0 3px var(--accent-glow), 0 4px 12px rgba(0, 0, 0, .3)
    }

    .auth-input::placeholder {
      color: rgba(160, 160, 160, .7)
    }

    /* Input field containers - unified styling */
    .input-field,
    .password-field {
      position: relative;
      width: 100%
    }

    .input-field .auth-input,
    .password-field .auth-input {
      width: 100%;
      box-sizing: border-box
    }

    .password-field .auth-input {
      padding-right: 3rem
    }

    .toggle-pass {
      position: absolute;
      right: .75rem;
      top: 50%;
      transform: translateY(-50%);
      background: transparent;
      border: none;
      cursor: pointer;
      padding: .25rem;
      color: var(--text-medium-color);
      transition: color .2s ease
    }

    .toggle-pass:hover {
      color: var(--accent-color)
    }

    .toggle-pass i {
      font-size: 1rem
    }

    /* Enlace olvidaste contrase√±a - verde ne√≥n sin fondo */
    .forgot-password-link {
      background: transparent !important;
      color: var(--accent-color) !important;
      border: none;
      font-size: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      text-shadow: 0 0 10px var(--accent-glow);
    }

    .forgot-password-link:hover {
      text-decoration: underline;
      text-shadow: 0 0 15px var(--accent-color);
    }

    .submit-btn {
      background: linear-gradient(135deg, var(--accent-color) 0%, #2dd60f 100%);
      color: var(--info-fixed-text);
      font-weight: 700;
      border-radius: .75rem;
      padding: .875rem;
      transition: all .3s ease;
      border: none;
      cursor: pointer;
      font-size: .95rem;
      letter-spacing: .02em;
      position: relative;
      overflow: hidden
    }

    .submit-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, .3), transparent);
      transition: left .5s ease
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px var(--accent-glow), 0 0 30px var(--accent-glow)
    }

    .submit-btn:hover::before {
      left: 100%
    }

    .submit-btn:active {
      transform: translateY(0)
    }

    .loader-container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      gap: 1rem
    }

    .loader {
      border: 3px solid var(--border-color);
      border-top: 3px solid var(--accent-color);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      box-shadow: 0 0 20px var(--accent-glow)
    }

    @keyframes spin {
      0% {
        transform: rotate(0)
      }

      100% {
        transform: rotate(360deg)
      }
    }

    header {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--glass-border);
      padding: 1rem 1.5rem;
      position: sticky;
      top: 0;
      z-index: 50;
      box-shadow: 0 4px 20px rgba(0, 0, 0, .3)
    }

    .header-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--text-color) 0%, var(--accent-color) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -.02em;
      display: flex;
      align-items: center;
      gap: .5rem
    }

    .logo i {
      color: var(--accent-color);
      filter: drop-shadow(0 0 10px var(--accent-glow))
    }

    .user-section {
      display: flex;
      align-items: center;
      gap: 1rem
    }

    .user-email {
      color: var(--text-medium-color);
      font-size: .875rem;
      font-weight: 500
    }

    .logout-btn {
      background: rgba(239, 68, 68, .1);
      border: 1px solid rgba(239, 68, 68, .3);
      color: #ef4444;
      padding: .5rem 1.25rem;
      border-radius: .5rem;
      font-weight: 600;
      font-size: .875rem;
      transition: all .3s ease;
      cursor: pointer
    }

    .logout-btn:hover {
      background: rgba(239, 68, 68, .2);
      border-color: #ef4444;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(239, 68, 68, .3)
    }

    main {
      padding: 3rem 1.5rem;
      max-width: 1400px;
      margin: 0 auto
    }

    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 2rem;
      animation: fadeIn .8s ease-out
    }

    @media (max-width:640px) {
      .tools-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem
      }
    }

    .tool-card {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 1.25rem;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      position: relative;
      overflow: hidden;
      transition: all .4s cubic-bezier(.4, 0, .2, 1);
      cursor: pointer;
      text-decoration: none;
      color: inherit;
      user-select: none
    }

    .tool-card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at center, var(--accent-glow) 0%, transparent 70%);
      opacity: 0;
      transition: opacity .4s ease
    }

    .tool-card:hover {
      transform: translateY(-8px) scale(1.02);
      background: var(--card-hover-bg);
      border-color: rgba(57, 255, 20, .3);
      box-shadow: 0 20px 40px rgba(0, 0, 0, .4), 0 0 40px var(--accent-glow), inset 0 1px 0 rgba(255, 255, 255, .1)
    }

    .tool-card:hover::before {
      opacity: 1
    }

    .tool-card:active {
      transform: translateY(-4px) scale(1.01)
    }

    .drag-handle {
      position: absolute;
      left: .75rem;
      top: .75rem;
      background: rgba(0, 0, 0, .5);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border-color);
      border-radius: .5rem;
      padding: .5rem;
      cursor: grab;
      opacity: 0;
      transition: all .3s ease;
      z-index: 10
    }

    .drag-handle:active {
      cursor: grabbing
    }

    .tool-card:hover .drag-handle {
      opacity: 1
    }

    .drag-handle i {
      color: var(--text-medium-color);
      font-size: .875rem
    }

    .info-button {
      position: absolute;
      top: .75rem;
      right: .75rem;
      background: rgba(0, 0, 0, .5);
      backdrop-filter: blur(10px);
      border: 1px solid var(--border-color);
      border-radius: .5rem;
      padding: .5rem;
      cursor: pointer;
      transition: all .3s ease;
      z-index: 10
    }

    .info-button:hover {
      background: rgba(57, 255, 20, .1);
      border-color: var(--accent-color);
      transform: scale(1.1) rotate(12deg)
    }

    .info-button i {
      color: var(--text-medium-color);
      transition: color .3s ease
    }

    .info-button:hover i {
      color: var(--accent-color)
    }

    .tool-icon-wrapper {
      width: 80px;
      height: 80px;
      margin-bottom: 1.5rem;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(57, 255, 20, .1) 0%, rgba(57, 255, 20, .05) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      transition: all .4s ease;
      z-index: 1
    }

    .tool-icon-wrapper::before {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent-color), transparent);
      opacity: 0;
      transition: opacity .4s ease;
      z-index: -1
    }

    .tool-card:hover .tool-icon-wrapper {
      transform: scale(1.1) rotateY(360deg);
      box-shadow: 0 0 30px var(--accent-glow)
    }

    .tool-card:hover .tool-icon-wrapper::before {
      opacity: .3
    }

    .tool-icon-wrapper i {
      font-size: 2.25rem;
      color: var(--accent-color);
      filter: drop-shadow(0 0 10px var(--accent-glow));
      transition: all .4s ease
    }

    .tool-card:hover .tool-icon-wrapper i {
      filter: drop-shadow(0 0 20px var(--accent-color))
    }

    .tool-title {
      font-size: 1.125rem;
      font-weight: 700;
      color: var(--text-color);
      margin-bottom: .5rem;
      position: relative;
      z-index: 1;
      transition: color .3s ease
    }

    .tool-card:hover .tool-title {
      color: var(--accent-color)
    }

    footer {
      padding: 2.5rem 1.5rem;
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border-top: 1px solid var(--glass-border);
      margin-top: 4rem
    }

    .footer-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem
    }

    .footer-links {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
      align-items: center
    }

    .footer-link {
      display: flex;
      align-items: center;
      gap: .5rem;
      color: var(--text-medium-color);
      text-decoration: none;
      font-size: .9rem;
      font-weight: 500;
      transition: all .3s ease;
      padding: .5rem 1rem;
      border-radius: .5rem
    }

    .footer-link:hover {
      color: var(--accent-color);
      background: rgba(57, 255, 20, .05);
      transform: translateY(-2px)
    }

    .footer-link i {
      font-size: 1.25rem;
      transition: transform .3s ease
    }

    .footer-link:hover i {
      transform: scale(1.2)
    }

    .footer-divider {
      color: var(--border-color);
      display: none
    }

    @media (min-width:640px) {
      .footer-divider {
        display: inline
      }

      .footer-links {
        flex-direction: row
      }
    }

    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .9);
      backdrop-filter: blur(10px);
      z-index: 100;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      animation: fadeIn .3s ease-out
    }

    .modal-overlay.active {
      display: flex
    }

    .modal {
      background: var(--modal-bg-color);
      backdrop-filter: blur(30px);
      border: 1px solid var(--glass-border);
      border-radius: 1.5rem;
      padding: 2rem 2.5rem;
      max-width: 550px;
      width: 100%;
      position: relative;
      box-shadow: 0 20px 60px rgba(0, 0, 0, .6), 0 0 40px var(--accent-glow), inset 0 1px 0 rgba(255, 255, 255, .1);
      animation: modalSlideIn .4s cubic-bezier(.4, 0, .2, 1)
    }

    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translateY(-30px) scale(.95)
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1)
      }
    }

    .modal-close-button {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(0, 0, 0, .5);
      border: 1px solid var(--border-color);
      border-radius: .5rem;
      padding: .5rem;
      cursor: pointer;
      transition: all .3s ease
    }

    .modal-close-button:hover {
      background: rgba(239, 68, 68, .2);
      border-color: #ef4444;
      transform: rotate(90deg)
    }

    .modal-close-button i {
      color: var(--text-medium-color);
      font-size: 1.25rem;
      transition: color .3s ease
    }

    .modal-close-button:hover i {
      color: #ef4444
    }

    .modal h2 {
      color: var(--accent-color);
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      text-shadow: 0 0 20px var(--accent-glow)
    }

    .modal-content {
      color: var(--text-medium-color);
      line-height: 1.6
    }

    #suggestionText {
      background: var(--input-bg);
      border: 1px solid var(--input-border);
      color: var(--text-color);
      border-radius: .75rem;
      padding: .875rem;
      width: 100%;
      resize: vertical;
      font-family: inherit;
      transition: all .3s ease
    }

    #suggestionText:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px var(--accent-glow)
    }

    @media (max-width:640px) {
      .auth-logo h1 {
        font-size: 2.25rem
      }

      .auth-box {
        padding: 2rem 1.5rem
      }

      .user-email {
        display: none
      }

      main {
        padding: 2rem 1rem
      }

      .modal {
        padding: 1.5rem;
        margin: 1rem
      }
    }

    .sortable-ghost {
      opacity: .4;
      background: var(--accent-glow)
    }

    /* === BANNER DE ACTUALIZACI√ìN === */
    .update-banner {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: linear-gradient(135deg, rgba(57, 255, 20, 0.95) 0%, rgba(34, 197, 94, 0.95) 100%);
      color: #0a0a0a;
      padding: 0.875rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      z-index: 9999;
      box-shadow: 0 4px 20px rgba(57, 255, 20, 0.4);
      transform: translateY(-100%);
      animation: slideDown 0.5s ease forwards;
      font-weight: 600;
      font-size: 0.95rem;
    }

    .update-banner.hidden {
      display: none !important;
    }

    @keyframes slideDown {
      from {
        transform: translateY(-100%);
      }

      to {
        transform: translateY(0);
      }
    }

    .update-banner span {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .update-banner button {
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      font-weight: 700;
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.2s ease;
      border: none;
    }

    #update-btn {
      background: #0a0a0a;
      color: var(--accent-color);
    }

    #update-btn:hover {
      background: #1a1a1a;
      transform: scale(1.05);
    }

    #dismiss-btn {
      background: transparent;
      color: #0a0a0a;
      font-size: 1.25rem;
      padding: 0.25rem 0.5rem;
    }

    #dismiss-btn:hover {
      opacity: 0.7;
    }

    @media (max-width: 480px) {
      .update-banner {
        flex-wrap: wrap;
        padding: 0.75rem 1rem;
        gap: 0.5rem;
      }

      .update-banner span {
        font-size: 0.85rem;
      }
    }

    /* === Estilos unificados para campos de autenticaci√≥n === */

    /* Todos los inputs del formulario auth con fondo oscuro y texto blanco */
    .auth-input,
    .auth-input[type="email"],
    .auth-input[type="password"],
    .auth-input[type="text"] {
      background: rgba(30, 30, 30, .9) !important;
      color: #ffffff !important;
      caret-color: #ffffff;
    }

    /* Ocultar el bot√≥n nativo del navegador para mostrar contrase√±a */
    .auth-input[type="password"]::-ms-reveal,
    .auth-input[type="password"]::-ms-clear,
    .auth-input[type="password"]::-webkit-credentials-auto-fill-button,
    .auth-input[type="password"]::-webkit-textfield-decoration-container {
      display: none !important;
    }

    input[type="password"]::-ms-reveal,
    input[type="password"]::-ms-clear {
      display: none !important;
    }

    /* Arreglo para autocompletado de Chrome - mantener tema oscuro */
    .auth-input:-webkit-autofill,
    .auth-input:-webkit-autofill:hover,
    .auth-input:-webkit-autofill:focus {
      -webkit-text-fill-color: #ffffff !important;
      -webkit-box-shadow: 0 0 0px 1000px rgba(30, 30, 30, .95) inset !important;
      box-shadow: 0 0 0px 1000px rgba(30, 30, 30, .95) inset !important;
      border-color: var(--input-border) !important;
      transition: background-color 5000s ease-in-out 0s;
    }

    /* === SISTEMA DE NOVEDADES/CHANGELOG === */
    .news-btn {
      position: relative;
      background: rgba(139, 92, 246, 0.1);
      border: 1px solid rgba(139, 92, 246, 0.3);
      color: #a78bfa;
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      font-weight: 600;
      font-size: 0.875rem;
      transition: all 0.3s ease;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    .news-btn:hover {
      background: rgba(139, 92, 246, 0.2);
      border-color: #a78bfa;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
    }

    .news-btn i {
      font-size: 1rem;
    }

    .news-badge {
      position: absolute;
      top: -4px;
      right: -4px;
      min-width: 18px;
      height: 18px;
      background: #ef4444;
      color: #fff;
      border-radius: 9px;
      font-size: 0.65rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: pulse-badge 2s infinite;
    }

    @keyframes pulse-badge {

      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.1);
      }
    }

    .news-modal {
      max-height: 80vh;
      overflow-y: auto;
    }

    .news-item {
      background: rgba(57, 255, 20, 0.05);
      border: 1px solid rgba(57, 255, 20, 0.1);
      border-radius: 0.75rem;
      padding: 1rem;
      margin-bottom: 1rem;
    }

    .news-item-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.5rem;
    }

    .news-item-version {
      background: var(--accent-color);
      color: #0a0a0a;
      padding: 0.25rem 0.75rem;
      border-radius: 1rem;
      font-size: 0.75rem;
      font-weight: 700;
    }

    .news-item-date {
      font-size: 0.75rem;
      color: var(--text-light-color);
    }

    .news-item-title {
      font-weight: 700;
      font-size: 1.1rem;
      color: var(--text-color);
      margin-bottom: 0.5rem;
    }

    .news-item-content {
      color: var(--text-medium-color);
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .news-item-content ul {
      margin-left: 1.25rem;
      margin-top: 0.5rem;
    }

    .news-item-content li {
      margin-bottom: 0.25rem;
    }

    .news-item.important {
      border-color: #ef4444;
      background: rgba(239, 68, 68, 0.05);
    }

    .news-item.important .news-item-version {
      background: #ef4444;
      color: #fff;
    }
  </style>
</head>

<body>
  <!-- üîÑ BANNER DE ACTUALIZACI√ìN -->
  <div id="update-banner" class="update-banner hidden">
    <span>üöÄ ¬°Nueva versi√≥n disponible!</span>
    <button id="update-btn">Actualizar ahora</button>
    <button id="dismiss-btn" title="Cerrar">√ó</button>
  </div>

  <!-- üì¢ MODAL DE NOVEDADES -->
  <div class="modal-overlay" id="newsModalOverlay">
    <div class="modal news-modal" style="max-width: 600px;">
      <button class="modal-close-button" onclick="closeNewsModal()"><i class="fas fa-times"></i></button>
      <h2 style="display: flex; align-items: center; gap: 0.5rem;"><i class="fas fa-bullhorn"></i> Novedades</h2>
      <div id="newsContent" class="modal-content">
        <!-- Las novedades se cargan din√°micamente -->
      </div>
    </div>
  </div>

  <div id="loader" class="loader-container">
    <div class="loader"></div>
    <p class="text-sm text-[var(--text-medium-color)] mt-4">Cargando GUARD-IA...</p>
  </div>

  <div id="login-screen" class="auth-container hidden main-content">
    <div class="auth-logo">
      <h1>GUARD-IA</h1>
    </div>
    <p class="auth-description">
      Tu nuevo compa√±ero digital, app para <strong>profesionales de fuerzas y cuerpos de seguridad</strong>.
      Gestiona tus intervenciones, informaci√≥n operativa y turnos con la m√°xima privacidad y seguridad.
      Tus datos se cifran en tu dispositivo y se asocian a tu cuenta, accesibles solo por ti.
    </p>

    <div class="auth-box">
      <div class="auth-tabs">
        <button id="loginTab" class="auth-tab active">Iniciar Sesi√≥n</button>
        <button id="registerTab" class="auth-tab">Registrarse</button>
      </div>

      <form id="loginForm">
        <!-- Campo de email -->
        <div class="input-field mb-10">
          <input type="email" id="loginEmail" placeholder="Correo electr√≥nico" class="auth-input w-full" required
            autocomplete="email" />
        </div>

        <!-- Campo de contrase√±a -->
        <div class="password-field mb-4">
          <input type="password" id="loginPassword" placeholder="Contrase√±a" class="auth-input w-full" required
            autocomplete="current-password" />
          <button type="button" class="toggle-pass" data-target="loginPassword" aria-label="Mostrar contrase√±a">
            <i class="fa fa-eye"></i>
          </button>
        </div>

        <!-- Enlace de recuperaci√≥n -->
        <div class="flex justify-end mb-5">
          <button id="resetPasswordLink" type="button" class="forgot-password-link">
            ¬øOlvidaste tu contrase√±a?
          </button>
        </div>

        <!-- Bot√≥n de enviar -->
        <button type="submit" class="submit-btn w-full">Entrar</button>
      </form>

      <form id="registerForm" class="hidden">
        <!-- Campo de email -->
        <div class="input-field mb-10">
          <input type="email" id="registerEmail" placeholder="Correo electr√≥nico" class="auth-input w-full" required
            autocomplete="email" />
        </div>

        <!-- Campo de contrase√±a -->
        <div class="password-field mb-6">
          <input type="password" id="registerPassword" placeholder="Contrase√±a (m√≠n. 6 caracteres)"
            class="auth-input w-full" required autocomplete="new-password" />
          <button type="button" class="toggle-pass" data-target="registerPassword" aria-label="Mostrar contrase√±a">
            <i class="fa fa-eye"></i>
          </button>
        </div>

        <!-- Bot√≥n de registro -->
        <button type="submit" class="submit-btn w-full">Crear Cuenta</button>
      </form>


      <p id="authError" class="text-red-500 text-sm text-center mt-4 min-h-[1rem]"></p>
    </div>
  </div>

  <div id="main-app-content" class="hidden main-content">
    <header>
      <div class="header-content">
        <div class="logo"><i class="fas fa-shield-alt"></i><span>GUARD-IA</span></div>
        <div id="user-info"></div>
      </div>
    </header>

    <main>
      <div id="tools-grid" class="tools-grid"></div>
    </main>

    <footer>
      <div class="footer-content">
        <div class="footer-links">
          <a href="https://t.me/OnefraGT" target="_blank" rel="noopener noreferrer" class="footer-link">
            <i class="fab fa-telegram-plane"></i><span>Contacta con @OnefraGT</span>
          </a>
          <span class="footer-divider">|</span>
          <a href="#" class="footer-link" id="suggestLink">
            <i class="fas fa-lightbulb"></i><span>Sugerir Mejoras</span>
          </a>
        </div>
      </div>
    </footer>
  </div>

  <div class="modal-overlay" id="infoModalOverlay">
    <div class="modal">
      <button class="modal-close-button" onclick="closeInfoModal()"><i class="fas fa-times"></i></button>
      <h2 id="modalTitle"></h2>
      <div id="modalContent" class="modal-content"></div>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import {
      getAuth, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut,
      sendPasswordResetEmail
    } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import {
      getFirestore, collection, addDoc, serverTimestamp, doc, getDoc, setDoc
    } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAf3I3_aW__lBtTVlEJ9xesIWkEJ6lMJp8",
      authDomain: "guard-ia-a36da.firebaseapp.com",
      projectId: "guard-ia-a36da",
      storageBucket: "guard-ia-a36da.appspot.com",
      messagingSenderId: "914018061004",
      appId: "1:914018061004:web:6ab6c6ca728199033bd069",
      measurementId: "G-W45Z1BH3T4"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    const loader = document.getElementById('loader');
    const loginScreen = document.getElementById('login-screen');
    const mainAppContent = document.getElementById('main-app-content');
    const userInfo = document.getElementById('user-info');
    const loginTab = document.getElementById('loginTab');
    const registerTab = document.getElementById('registerTab');
    const loginForm = document.getElementById('loginForm');
    const registerForm = document.getElementById('registerForm');
    const authError = document.getElementById('authError');
    const suggestLink = document.getElementById('suggestLink'); /* <- √∫nica declaraci√≥n */

    const infoModalOverlay = document.getElementById('infoModalOverlay');
    const modalTitle = document.getElementById('modalTitle');
    const modalContentDiv = document.getElementById('modalContent');

    window.showModal = function (title, contentHtml) {
      modalTitle.textContent = title;
      modalContentDiv.innerHTML = contentHtml;
      infoModalOverlay.classList.add('active');
    };
    window.closeInfoModal = function () {
      infoModalOverlay.classList.remove('active');
      modalContentDiv.innerHTML = '';
    };
    infoModalOverlay.addEventListener('click', (e) => { if (e.target === infoModalOverlay) closeInfoModal(); });

    const toolsData = [
      { id: 'chatgpt', href: 'https://chatgpt.com/g/g-6766e58171cc81918eb92f23b79f66ae-guard-ia', target: '_blank', icon: 'fa-robot', title: 'ChatGPT GUARD-IA', infoTitle: 'ChatGPT GUARD-IA', infoText: 'Tu asistente de IA especializado en seguridad. (Acceso externo).' },
      { id: 'calculator', href: './herramientas-guardia/calculadora-de-drogas/index.html', target: '_self', icon: 'fa-calculator', title: 'Calculadora de Drogas', infoTitle: 'Calculadora de Drogas', infoText: 'Determina si una cantidad incautada puede constituir delito o infracci√≥n.' },
      { id: 'notes', href: './herramientas-guardia/bloc-de-notas/index.html', target: '_self', icon: 'fa-sticky-note', title: 'Bloc de Notas Seguro', infoTitle: 'Bloc de Notas Seguro', infoText: 'Registra intervenciones de forma cifrada y privada.' },
      { id: 'calendar', href: './herramientas-guardia/calendario-del-GUARD-IA/index.html', target: '_self', icon: 'fa-calendar-alt', title: 'Calendario de Turnos', infoTitle: 'Calendario de Turnos del GUARD-IA', infoText: 'Organiza y guarda turnos de forma segura en la nube.' }
    ];

    function applyOrder(base, orderIds) {
      if (!Array.isArray(orderIds) || !orderIds.length) return base;
      const map = new Map(base.map(t => [t.id, t]));
      const ordered = orderIds.map(id => map.get(id)).filter(Boolean);
      const remaining = base.filter(t => !orderIds.includes(t.id));
      return [...ordered, ...remaining];
    }
    async function loadUserToolsOrder(uid) {
      try {
        const snap = await getDoc(doc(db, 'users', uid));
        return snap.exists() ? (snap.data().toolsOrder || []) : [];
      } catch { return []; }
    }

    async function renderTools(tools = toolsData) {
      const grid = document.getElementById('tools-grid');
      grid.innerHTML = tools.map(tool => `
        <a href="${tool.href}" target="${tool.target}" rel="noopener noreferrer"
           class="tool-card" data-tool-id="${tool.id}">
          <button type="button" class="drag-handle" title="Arrastra para ordenar" aria-label="Arrastra para ordenar">
            <i class="fas fa-grip-vertical"></i>
          </button>
          <button class="info-button" data-title="${tool.infoTitle}" data-text="${tool.infoText}" aria-label="M√°s informaci√≥n">
            <i class="fas fa-info-circle"></i>
          </button>
          <div class="tool-icon-wrapper"><i class="fas ${tool.icon}"></i></div>
          <h3 class="tool-title">${tool.title}</h3>
        </a>
      `).join('');

      document.querySelectorAll('.info-button').forEach(b => {
        b.addEventListener('click', (e) => {
          e.preventDefault(); e.stopPropagation();
          showModal(e.currentTarget.dataset.title, `<p>${e.currentTarget.dataset.text}</p>`);
        });
      });

      if (window.Sortable && grid.children.length) {
        if (grid._sortable instanceof Sortable) grid._sortable.destroy();
        grid._sortable = new Sortable(grid, {
          animation: 200, handle: '.drag-handle', draggable: '.tool-card', ghostClass: 'sortable-ghost',
          filter: '.info-button', preventOnFilter: false,
          onEnd: async () => {
            const newOrder = Array.from(grid.children).map(el => el.dataset.toolId);
            try {
              const uid = auth.currentUser?.uid; if (!uid) return;
              await setDoc(doc(db, 'users', uid), { toolsOrder: newOrder }, { merge: true });
            } catch { }
          }
        });
        grid.addEventListener('click', (e) => {
          const handle = e.target.closest('.drag-handle');
          if (handle) e.preventDefault();
        }, true);
      }
    }

    onAuthStateChanged(auth, async user => {
      loader.classList.add('hidden');
      if (user) {
        mainAppContent.classList.remove('hidden');
        loginScreen.classList.add('hidden');

        // Calcular si hay novedades nuevas
        const lastSeenVersion = localStorage.getItem('guardia_news_version') || '0';
        const hasNewNews = GUARDIA_NEWS_VERSION > lastSeenVersion;

        userInfo.innerHTML = `
          <div class="user-section">
            <button id="newsBtn" class="news-btn">
              <i class="fas fa-bell"></i>
              <span class="hidden sm:inline">Novedades</span>
              ${hasNewNews ? '<span class="news-badge">!</span>' : ''}
            </button>
            <span class="user-email">${user.email}</span>
            <button id="logoutBtn" class="logout-btn">Salir</button>
          </div>`;
        document.getElementById('logoutBtn').addEventListener('click', () => signOut(auth));
        document.getElementById('newsBtn').addEventListener('click', openNewsModal);
        const order = await loadUserToolsOrder(user.uid);
        await renderTools(applyOrder(toolsData, order));
      } else {
        loginScreen.classList.remove('hidden');
        mainAppContent.classList.add('hidden');
      }
    });

    loginTab.addEventListener('click', () => {
      loginTab.classList.add('active'); registerTab.classList.remove('active');
      loginForm.classList.remove('hidden'); registerForm.classList.add('hidden');
      authError.textContent = '';
    });
    registerTab.addEventListener('click', () => {
      registerTab.classList.add('active'); loginTab.classList.remove('active');
      registerForm.classList.remove('hidden'); loginForm.classList.add('hidden');
      authError.textContent = '';
    });

    loginForm.addEventListener('submit', (e) => {
      e.preventDefault();
      authError.textContent = '';
      signInWithEmailAndPassword(auth, loginEmail.value, loginPassword.value)
        .catch(error => { authError.textContent = getFirebaseAuthErrorMessage(error.code); });
    });
    registerForm.addEventListener('submit', (e) => {
      e.preventDefault();
      authError.textContent = '';
      createUserWithEmailAndPassword(auth, registerEmail.value, registerPassword.value)
        .catch(error => { authError.textContent = getFirebaseAuthErrorMessage(error.code); });
    });

    function getFirebaseAuthErrorMessage(code) {
      switch (code) {
        case 'auth/invalid-email': return 'El formato del correo no es v√°lido.';
        case 'auth/user-not-found':
        case 'auth/wrong-password':
        case 'auth/invalid-credential': return 'Correo o contrase√±a incorrectos.';
        case 'auth/email-already-in-use': return 'Este correo ya est√° registrado.';
        case 'auth/weak-password': return 'La contrase√±a debe tener al menos 6 caracteres.';
        case 'auth/missing-email': return 'Introduce tu correo electr√≥nico.';
        default: return 'Ha ocurrido un error inesperado.';
      }
    }

    const resetPasswordLink = document.getElementById('resetPasswordLink');
    resetPasswordLink.addEventListener('click', () => {
      const presetEmail = (document.getElementById('loginEmail').value || '').trim();
      const html = `
        <p class="mb-3">Introduce el correo asociado a tu cuenta. Te enviaremos un enlace seguro para restablecer la contrase√±a.</p>
        <input id="resetEmailInput" type="email" class="auth-input w-full mb-4" placeholder="tu@correo.com" value="${presetEmail.replace(/"/g, '&quot;')}" />
        <button id="sendResetBtn" class="submit-btn w-full">Enviar enlace de restablecimiento</button>
        <p id="resetMsg" class="text-sm mt-3 min-h-[1rem]"></p>`;
      showModal('Restablecer contrase√±a', html);

      const sendBtn = document.getElementById('sendResetBtn');
      const emailInput = document.getElementById('resetEmailInput');
      const msg = document.getElementById('resetMsg');

      sendBtn.addEventListener('click', async () => {
        const email = (emailInput.value || '').trim();
        msg.textContent = '';
        if (!email) { msg.textContent = 'Introduce un correo v√°lido.'; msg.style.color = '#ef4444'; return; }
        sendBtn.disabled = true; sendBtn.textContent = 'Enviando...';
        try {
          await sendPasswordResetEmail(auth, email);
          msg.textContent = 'Correo enviado (revisa SPAM).';
          msg.style.color = 'var(--accent-color)';
          setTimeout(() => closeInfoModal(), 2000);
        } catch (error) {
          msg.textContent = getFirebaseAuthErrorMessage(error.code);
          msg.style.color = '#ef4444';
        } finally {
          sendBtn.disabled = false; sendBtn.textContent = 'Enviar enlace de restablecimiento';
        }
      });
    });

    suggestLink.addEventListener('click', (e) => {
      e.preventDefault();
      if (!auth.currentUser) { showModal('Acceso Requerido', '<p>Debes iniciar sesi√≥n para enviar sugerencias.</p>'); return; }
      const html = `
        <p class="text-base mb-4">¬°Tu opini√≥n es muy importante para mejorar GUARD-IA! Describe tu sugerencia:</p>
        <textarea id="suggestionText" class="w-full p-3 rounded mb-4" rows="5" placeholder="Escribe tu sugerencia aqu√≠..." required></textarea>
        <button id="submitSuggestionBtn" class="submit-btn w-full">Enviar Sugerencia</button>
        <p id="suggestionMessage" class="text-center mt-3 text-sm min-h-[1rem]"></p>`;
      showModal('Sugerir Mejoras', html);

      document.getElementById('submitSuggestionBtn').addEventListener('click', async () => {
        const text = document.getElementById('suggestionText').value.trim();
        const msg = document.getElementById('suggestionMessage');
        if (!text) { msg.textContent = 'Por favor, escribe tu sugerencia.'; msg.style.color = '#ef4444'; return; }
        try {
          await addDoc(collection(db, 'suggestions'), { userId: auth.currentUser.uid, userEmail: auth.currentUser.email, suggestion: text, timestamp: serverTimestamp() });
          msg.textContent = '¬°Sugerencia enviada con √©xito!';
          msg.style.color = 'var(--accent-color)';
          setTimeout(() => closeInfoModal(), 1500);
        } catch {
          msg.textContent = 'Error al enviar la sugerencia. Int√©ntalo de nuevo.';
          msg.style.color = '#ef4444';
        }
      });
    });
    // --- Mostrar / ocultar contrase√±a (login y registro) ---
    document.querySelectorAll('.toggle-pass').forEach((btn) => {
      btn.addEventListener('click', () => {
        const targetId = btn.dataset.target;
        const input = document.getElementById(targetId);
        const icon = btn.querySelector('i');
        const isHidden = input.type === 'password';

        input.type = isHidden ? 'text' : 'password';
        icon.classList.toggle('fa-eye', !isHidden);
        icon.classList.toggle('fa-eye-slash', isHidden);
        btn.setAttribute('aria-label', isHidden ? 'Ocultar contrase√±a' : 'Mostrar contrase√±a');
      });
    });

  </script>

  <!-- üîÑ Service Worker con detecci√≥n de actualizaciones -->
  <script>
    // Referencias al banner de actualizaci√≥n
    const updateBanner = document.getElementById('update-banner');
    const updateBtn = document.getElementById('update-btn');
    const dismissBtn = document.getElementById('dismiss-btn');
    let pendingWorker = null;

    // Mostrar el banner de actualizaci√≥n
    function showUpdateBanner() {
      if (updateBanner) {
        updateBanner.classList.remove('hidden');
        console.log('[App] üîî Mostrando banner de actualizaci√≥n');
      }
    }

    // Ocultar el banner
    function hideUpdateBanner() {
      if (updateBanner) {
        updateBanner.classList.add('hidden');
      }
    }

    // Aplicar la actualizaci√≥n
    function applyUpdate() {
      if (pendingWorker) {
        // Enviar mensaje al nuevo SW para que tome control
        pendingWorker.postMessage({ type: 'SKIP_WAITING' });
      }
    }

    // Registrar el Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(registration => {
            console.log('[App] ‚úÖ SW registrado');

            // Verificar actualizaciones peri√≥dicamente (cada hora)
            setInterval(() => {
              registration.update();
              console.log('[App] üîç Buscando actualizaciones...');
            }, 60 * 60 * 1000);

            // Detectar cuando hay un nuevo SW instal√°ndose
            registration.onupdatefound = () => {
              const newWorker = registration.installing;
              console.log('[App] üì¶ Nueva versi√≥n detectada, instalando...');

              newWorker.onstatechange = () => {
                if (newWorker.state === 'installed') {
                  // Si ya hay un SW controlador, significa que es una actualizaci√≥n
                  if (navigator.serviceWorker.controller) {
                    console.log('[App] ‚úÖ Nueva versi√≥n lista para activar');
                    pendingWorker = newWorker;
                    showUpdateBanner();
                  } else {
                    // Primera instalaci√≥n
                    console.log('[App] üéâ Primera instalaci√≥n completada');
                  }
                }
              };
            };
          })
          .catch(err => console.error('[App] ‚ùå Error SW:', err));

        // Escuchar mensajes del SW
        navigator.serviceWorker.addEventListener('message', event => {
          if (event.data && event.data.type === 'SW_UPDATED') {
            console.log('[App] üîÑ SW actualizado a:', event.data.version);
          }
        });

        // Recargar cuando el nuevo SW tome control
        let refreshing = false;
        navigator.serviceWorker.addEventListener('controllerchange', () => {
          if (!refreshing) {
            refreshing = true;
            console.log('[App] üîÑ Recargando con nueva versi√≥n...');
            window.location.reload();
          }
        });
      });
    }

    // Event listeners para los botones del banner
    if (updateBtn) {
      updateBtn.addEventListener('click', () => {
        console.log('[App] üëÜ Usuario solicit√≥ actualizaci√≥n');
        applyUpdate();
      });
    }
    if (dismissBtn) {
      dismissBtn.addEventListener('click', () => {
        hideUpdateBanner();
        console.log('[App] ‚ùå Usuario cerr√≥ el banner');
      });
    }
  </script>

  <!-- üì¢ SISTEMA DE NOVEDADES - EDITA AQU√ç TUS AVISOS -->
  <script>
    // ==========================================
    // üîî CONFIGURACI√ìN DE NOVEDADES
    // ==========================================
    // Cambia este n√∫mero cada vez que a√±adas una novedad para que aparezca el badge
    const GUARDIA_NEWS_VERSION = '20231223';

    // Array de novedades (las m√°s recientes primero)
    // Copia y pega un bloque para a√±adir una nueva novedad
    const GUARDIA_NEWS = [
      {
        version: '2.1',
        date: '23 Diciembre 2025',
        title: 'üìÖ Mejoras en Calendario',
        important: true,
        content: `
          <p>¬°El <strong>Calendario GUARD-IA</strong> ahora es mejor que nunca!</p>
          <ul>
            <li>üì≤ <strong>Descarga individual</strong> - Inst√°lalo como app independiente desde el men√∫ del calendario</li>
            <li>‚úÖ Panel lateral deslizable para ver todas las tareas del mes</li>
            <li>‚úÖ Ver todos los detalles de un vistazo (juzgado, hora, etc.)</li>
            <li>‚úÖ M√∫ltiples tareas por d√≠a</li>
          </ul>
        `
      },
      {
        version: '2.0',
        date: '23 Diciembre 2025',
        title: 'üîî Nuevo Sistema de Novedades',
        important: false,
        content: `
          <p>¬°Ahora puedes ver todas las actualizaciones y avisos importantes!</p>
          <ul>
            <li>‚úÖ Nuevo bot√≥n de <strong>Novedades</strong> en la cabecera</li>
            <li>‚úÖ Badge de notificaci√≥n cuando hay novedades nuevas</li>
            <li>‚úÖ Historial de cambios y mejoras</li>
          </ul>
        `
      }
      // ‚Üì A√ëADE M√ÅS NOVEDADES AQU√ç (copia el bloque de arriba) ‚Üì
    ];

    // ==========================================
    // FUNCIONES (No tocar)
    // ==========================================
    function openNewsModal() {
      const modal = document.getElementById('newsModalOverlay');
      const content = document.getElementById('newsContent');

      // Generar HTML de novedades
      let html = '';
      GUARDIA_NEWS.forEach(news => {
        html += `
          <div class="news-item ${news.important ? 'important' : ''}">
            <div class="news-item-header">
              <span class="news-item-version">v${news.version}</span>
              <span class="news-item-date">${news.date}</span>
            </div>
            <div class="news-item-title">${news.title}</div>
            <div class="news-item-content">${news.content}</div>
          </div>
        `;
      });

      content.innerHTML = html;
      modal.classList.add('active');

      // Marcar como visto
      localStorage.setItem('guardia_news_version', GUARDIA_NEWS_VERSION);

      // Quitar el badge
      const badge = document.querySelector('.news-badge');
      if (badge) badge.remove();
    }

    function closeNewsModal() {
      document.getElementById('newsModalOverlay').classList.remove('active');
    }

    // Cerrar modal al hacer clic fuera
    document.getElementById('newsModalOverlay').addEventListener('click', (e) => {
      if (e.target.id === 'newsModalOverlay') closeNewsModal();
    });
  </script>
</body>

</html>